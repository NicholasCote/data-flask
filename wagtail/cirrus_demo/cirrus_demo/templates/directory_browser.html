<!DOCTYPE html>
<html>
    <title>Home | NSF NCAR Stratus & GLADE UI</title>
        <link rel="canonical" href="{% url 'home' %}"/>
        <meta property="og:title" content="Home | NCAR Stratus UI"/>
        <meta property="og:url" content="{% url 'home' %}"/>
        <meta property="og:site_name" content="ncar_stratus_ui"/>
        <meta property="og:type" content="website"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <link rel="stylesheet" href="{% static 'style.css' %}" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/e08b5a6906.js" crossorigin="anonymous"></script>
    <body>
        <div id="nav">
            {% include 'navbar.html' %}
        </div>
        <br>
        <div class="container mx-auto p-4">
            <h1 class="text-2xl mb-4">Directory Browser</h1>
            
            <div class="bg-gray-100 p-2 rounded mb-4">
                Current path: {{ current_path }}
            </div>
        
            {% if error_message %}
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
                {{ error_message }}
            </div>
            {% endif %}
        
            <div class="mb-4">
                {% if parent_path %}
                <a href="?path={{ parent_path }}" class="bg-blue-500 text-white px-4 py-2 rounded">
                    ‚¨ÜÔ∏è Up to parent directory
                </a>
                {% endif %}
            </div>
        
            <table class="w-full border-collapse border">
                <thead>
                    <tr class="bg-gray-200">
                        <th class="border p-2 text-left">Type</th>
                        <th class="border p-2 text-left">Name</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in items %}
                    <tr class="hover:bg-gray-50">
                        <td class="border p-2">
                            {% if item.is_dir %}
                            üìÅ
                            {% else %}
                            üìÑ
                            {% endif %}
                        </td>
                        <td class="border p-2">
                            {% if item.is_dir %}
                            <a href="?path={{ item.path }}" class="text-blue-600 hover:underline">
                                {{ item.name }}/
                            </a>
                            {% else %}
                            {{ item.name }}
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                    {% if not items %}
                    <tr>
                        <td colspan="2" class="border p-2 text-center text-gray-500">
                            No items found in this directory
                        </td>
                    </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
    </body>
</html>